// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-iterator-like@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/symbol-iterator@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-linked-list@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@esm/index.mjs";var s=e,l=r,u=t,f=n,d=i,a=o;function h(e,r){for(var t=e.first();t;){if(t.value[0]===r)return t;t=t.next}return null}function m(e,r){for(var t=e.first();t;)t.value[2]<r&&e.remove(t),t=t.next;return e}function v(e,r,t){var n,i,o,s,l,u;for(n=new d,i=e[0];!(s=i.next()).done;)null===(l=h(n,o=r.call(t,s.value)))&&n.push([o,s.value,1]);if(0===n.length)return n;for(u=1;u<e.length;u++){for(i=e[u];!(s=i.next()).done;)(l=h(n,o=r.call(t,s.value)))&&l.value[2]===u&&(l.value[2]+=1);if(m(n,u+1),0===n.length)return n}return n}var p=function e(){var r,t,n,i,o,d,h,m;for(r=[],m=0;m<arguments.length&&u(arguments[m]);m++)r.push(arguments[m]);if((o=r.length)<2)throw new Error("insufficient arguments. Must provide two or more iterators.");if(o===arguments.length)throw new Error("insufficient arguments. Must provide a hash function.");if(arguments.length>o+2)throw new TypeError(a("0CU0M"));if(!l(n=arguments[m]))throw new TypeError(a("0CU4P",n));if(i=arguments[m+1],s(d={},"next",p),s(d,"return",c),f){for(m=0;m<o;m++)if(!l(r[m][f])){h=!0;break}h||s(d,f,g)}return h=!1,d;function p(){var e,o;if(h)return{done:!0};if(void 0===t){if(0===(e=v(r,n,i)).length)return h=!0,{done:!0};t=e.iterator()}return(o=t.next()).done?(h=!0,o):{value:o.value[1],done:!1}}function c(e){return h=!0,arguments.length?{value:e,done:!0}:{done:!0}}function g(){var t,s;for(t=[],s=0;s<o;s++)t.push(r[s][f]());return t.push(n),t.push(i),e.apply(null,t)}},c=p;export{c as default};
//# sourceMappingURL=index.mjs.map
